{"version":3,"file":"static/js/251.5e03d74a.chunk.js","mappings":"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","sources":["pages/tracker/transactions/utilities/item-expenses-context.ts","pages/tracker/transactions/components/delete-button.tsx","pages/tracker/transactions/components/transactions.tsx","pages/tracker/transactions/index.tsx","utilities/api.ts","utilities/status-code.ts","utilities/stringUtil.ts"],"sourcesContent":["import { Dispatch, SetStateAction, createContext, useContext } from \"react\";\r\nimport { Transactions } from \"./types\";\r\n\r\nexport const CategoryIdContext = createContext<string>(\"\");\r\nexport const TransactionsContext = createContext<Transactions[]>([]);\r\nexport const SetTransactionsContext = createContext<\r\n\tDispatch<SetStateAction<Transactions[]>> | undefined\r\n>(undefined);\r\n\r\nexport function useTransactionsContext() {\r\n\tconst setTransactions = useContext(SetTransactionsContext);\r\n\r\n\tif (setTransactions === undefined) {\r\n\t\tthrow new Error(\r\n\t\t\t\"useTransactionsContext must be used within a SetTransactionsContext\"\r\n\t\t);\r\n\t}\r\n\r\n\treturn setTransactions;\r\n}\r\n","import { FormEvent, useContext, useState } from \"react\";\r\nimport { FaTrash } from \"react-icons/fa6\";\r\nimport { DeleteTransaction } from \"utilities/api\";\r\nimport {\r\n\tCategoryIdContext,\r\n\tuseTransactionsContext,\r\n} from \"../utilities/item-expenses-context\";\r\n\r\ninterface DeleteButtonProps {\r\n\tid: string;\r\n}\r\n\r\nfunction DeleteButton({ id: transactionId }: DeleteButtonProps) {\r\n\tconst [isModalOpen, setIsModalOpen] = useState(0);\r\n\tconst categoryId = useContext(CategoryIdContext);\r\n\tconst setTransactions = useTransactionsContext();\r\n\r\n\tconst closeModal = () => {\r\n\t\tsetTimeout(() => setIsModalOpen(0), 200);\r\n\t\tsetIsModalOpen(-1);\r\n\t};\r\n\r\n\tconst onSubmit = async (event: FormEvent<HTMLFormElement>) => {\r\n\t\ttry {\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tif ((await DeleteTransaction(categoryId, transactionId)) === 200) {\r\n\t\t\t\tsetTransactions((prev) =>\r\n\t\t\t\t\tprev.filter((item) => item.id !== transactionId)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tcloseModal();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isModalOpen !== 0 && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tdata-open={isModalOpen}\r\n\t\t\t\t\tclassName=\"z-50 fixed top-0 left-0 flex justify-center items-center w-full h-dvh bg-gray-500/30 backdrop-blur-sm data-[open='-1']:animate-fade-out data-[open='1']:animate-fade-in\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t\t\tdata-open={isModalOpen}\r\n\t\t\t\t\t\tclassName=\"absolute w-max data-[open='-1']:animate-fade-out data-[open='1']:animate-fade-in\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"left-0 flex flex-col gap-4 w-max bg-white p-4 rounded-md drop-shadow-md\">\r\n\t\t\t\t\t\t\t<h1 className=\"text-center text-black text-xl font-bold\">\r\n\t\t\t\t\t\t\t\tAre you sure\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<p className=\"text-gray-400\">This action cannot be undone.</p>\r\n\t\t\t\t\t\t\t<div className=\"flex-grow flex justify-between font-bold text-white\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={closeModal}\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-1/4 py-2 bg-blue-500 hover:bg-blue-600 rounded-md transition-colors shadow-md\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tNo\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-1/4 py-2 bg-red-500 hover:bg-red-600 rounded-md transition-colors shadow-md\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tYes\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<button\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\tsetIsModalOpen((prev) => {\r\n\t\t\t\t\t\tif (prev === 0) return 1;\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tsetTimeout(() => setIsModalOpen(0), 200);\r\n\t\t\t\t\t\t\treturn prev * -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tclassName=\"p-2 text-white bg-red-500 hover:bg-red-600 rounded-full shadow-md transition-colors\"\r\n\t\t\t>\r\n\t\t\t\t<FaTrash />\r\n\t\t\t</button>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default DeleteButton;\r\n","import { TransactionsContext } from \"../utilities/item-expenses-context\";\r\nimport { pad02f } from \"utilities/stringUtil\";\r\nimport { useContext } from \"react\";\r\n\r\nimport DeleteButton from \"./delete-button\";\r\n\r\nconst LOCALE = \"default\";\r\nconst DAY: { day: \"numeric\" } = { day: \"numeric\" };\r\nconst WEEKDAY: { weekday: \"short\" } = { weekday: \"short\" };\r\nconst TIME: { hour12: true; hour: \"2-digit\"; minute: \"2-digit\" } = {\r\n\thour12: true,\r\n\thour: \"2-digit\",\r\n\tminute: \"2-digit\",\r\n};\r\n\r\nfunction Transactions() {\r\n\tconst transactions = useContext(TransactionsContext);\r\n\r\n\treturn (\r\n\t\t<div className=\"flex flex-col gap-4 h-full overflow-y-auto no-scrollbar\">\r\n\t\t\t{transactions\r\n\t\t\t\t.sort((a, b) => {\r\n\t\t\t\t\tconst dateA = new Date(a.createdAt);\r\n\t\t\t\t\tconst dateB = new Date(b.createdAt);\r\n\r\n\t\t\t\t\treturn dateB.getTime() - dateA.getTime();\r\n\t\t\t\t})\r\n\t\t\t\t.map((item, index) => (\r\n\t\t\t\t\t<div className=\"flex gap-4 px-4 last:mb-4\">\r\n\t\t\t\t\t\t<div className=\"flex flex-col justify-center items-center aspect-square h-20 text-gray-300 font-bold rounded-full border-8 border-gray-300 drop-shadow-md hover:text-gray-400 transition-colors\">\r\n\t\t\t\t\t\t\t<h1 className=\"text-xl leading-[0.8]\">\r\n\t\t\t\t\t\t\t\t{item.createdAt.toLocaleDateString(LOCALE, WEEKDAY)}\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<h2 className=\"text-4xl leading-[0.8]\">\r\n\t\t\t\t\t\t\t\t{item.createdAt.toLocaleDateString(LOCALE, DAY)}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"relative flex-grow flex justify-between gap-4\">\r\n\t\t\t\t\t\t\t<div className=\"flex-grow flex flex-col justify-center\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-bold\">\r\n\t\t\t\t\t\t\t\t\t{item.createdAt.toLocaleTimeString(LOCALE, TIME)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t// item.description.length > 15\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-400\">{item.description}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"flex-grow flex flex-col items-end justify-center\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-right text-red-500 font-bold\">\r\n\t\t\t\t\t\t\t\t\t&#8369;{pad02f(item.amount)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<DeleteButton id={item.id} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{index !== transactions.length - 1 && (\r\n\t\t\t\t\t\t\t\t<hr className=\"absolute -bottom-2 border-1 border-gray-500 w-full\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Transactions;\r\n","import {\r\n\tTransactionsContext,\r\n\tSetTransactionsContext,\r\n\tCategoryIdContext,\r\n} from \"./utilities/item-expenses-context\";\r\nimport { GetCategoryFromId, GetTransactions } from \"utilities/api\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { Transactions as TransactionsType } from \"./utilities/types\";\r\nimport { pad02f } from \"utilities/stringUtil\";\r\nimport { FaArrowLeft } from \"react-icons/fa6\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport Transactions from \"./components/transactions\";\r\nimport { StatusCode } from \"utilities/status-code\";\r\n\r\nconst LOCALE = \"default\";\r\n\r\nfunction CategoryItems() {\r\n\tconst [transactions, setTransactions] = useState<TransactionsType[]>([]);\r\n\tconst [categoryId, setCategoryId] = useState(\"\");\r\n\tconst [sumAmount, setSumAmount] = useState(0);\r\n\tconst [title, setTitle] = useState(\"none\");\r\n\tconst [searchParams] = useSearchParams();\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tconst id = searchParams.get(\"id\");\r\n\r\n\t\t\tif (id) {\r\n\t\t\t\tsetCategoryId(id);\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst [categoryExpense, statusCode] = await GetCategoryFromId(id);\r\n\r\n\t\t\t\t\tswitch (statusCode) {\r\n\t\t\t\t\t\tcase StatusCode.OK:\r\n\t\t\t\t\t\t\tsetTitle(categoryExpense.name);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase StatusCode.UNAUTHORIZED:\r\n\t\t\t\t\t\t\treturn window.location.replace(\"/login\");\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.error(`Status Code: ${statusCode} :: An error occurred.`);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst [transactions, statusCode] = await GetTransactions(id);\r\n\r\n\t\t\t\t\tswitch (statusCode) {\r\n\t\t\t\t\t\tcase StatusCode.OK:\r\n\t\t\t\t\t\t\tsetSumAmount(\r\n\t\t\t\t\t\t\t\ttransactions.reduce((acc, item) => acc + item.amount, 0)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tsetTransactions(transactions);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.error(`Status Code: ${statusCode} :: An error occurred.`);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.replace(\"/tracker\");\r\n\t\t\t}\r\n\t\t})();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSumAmount(transactions.reduce((acc, item) => acc + item.amount, 0));\r\n\t}, [transactions]);\r\n\r\n\tconst thisMonth = new Date().toLocaleString(LOCALE, {\r\n\t\tmonth: \"short\",\r\n\t\tyear: \"numeric\",\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"flex flex-col h-full max-h-full max-w-[720px] mx-auto\">\r\n\t\t\t<div className=\"relative mb-4 py-4\">\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"/tracker\"\r\n\t\t\t\t\tclassName=\"absolute top-1/2 -translate-y-1/2 ml-4 text-3xl\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<FaArrowLeft />\r\n\t\t\t\t</a>\r\n\t\t\t\t<h1 className=\"font-bold text-center uppercase\">{title}</h1>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"flex flex-col gap-10 flex-grow overflow-auto\">\r\n\t\t\t\t<div className=\"flex flex-col mx-auto w-min\">\r\n\t\t\t\t\t<span className=\"leading-none tracking-tight font-bold text-gray-400 w-max\">\r\n\t\t\t\t\t\t{thisMonth}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"mb-4 font-extrabold text-4xl w-min\">\r\n\t\t\t\t\t\t&#8369;{pad02f(sumAmount)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex-grow overflow-hidden pb-4 h-full\">\r\n\t\t\t\t\t<CategoryIdContext.Provider value={categoryId}>\r\n\t\t\t\t\t\t<SetTransactionsContext.Provider value={setTransactions}>\r\n\t\t\t\t\t\t\t<TransactionsContext.Provider value={transactions}>\r\n\t\t\t\t\t\t\t\t<Transactions />\r\n\t\t\t\t\t\t\t</TransactionsContext.Provider>\r\n\t\t\t\t\t\t</SetTransactionsContext.Provider>\r\n\t\t\t\t\t</CategoryIdContext.Provider>\r\n\t\t\t\t\t<hr className=\"flex-grow mx-4 border-1 border-gray-500\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CategoryItems;\r\n","import {\r\n\tCategoryExpense,\r\n\tRawCategoryExpense,\r\n} from \"pages/tracker/utilities/types\";\r\nimport { Transactions } from \"pages/tracker/transactions/utilities/types\";\r\n\r\nimport data from \"pages/tracker/utilities/sample-data\";\r\nimport camelcaseKeys from \"camelcase-keys\";\r\nimport { STATUS_CODES } from \"http\";\r\n\r\nexport type StatusCode = number;\r\n\r\n// const API_URL = \"https://expenses-tracker.shuttleapp.rs/api\";\r\nconst API_URL = \"https://expenses-tracker.shuttleapp.rs/api\";\r\nconst USER_URL = `${API_URL}/user`;\r\nconst AUTH_URL = `${USER_URL}/auth`;\r\nconst TRAKCER_URL = `${AUTH_URL}/tracker`;\r\nconst CATEGORY_URL = `${TRAKCER_URL}/category`;\r\nconst CATEGORIES_URL = `${TRAKCER_URL}/categories`;\r\n\r\nconst HEADERS = {\r\n\theaders: {\r\n\t\t\"Content-Type\": \"application/json\",\r\n\t},\r\n};\r\n\r\nconst POST_METHOD = {\r\n\tmethod: \"POST\",\r\n\t...HEADERS,\r\n};\r\n\r\nconst GET_METHOD = {\r\n\tmethod: \"GET\",\r\n\t...HEADERS,\r\n};\r\n\r\nconst DELETE_METHOD = {\r\n\tmethod: \"DELETE\",\r\n\t...HEADERS,\r\n};\r\n\r\nconst PATCH_METHOD = {\r\n\tmethod: \"PATCH\",\r\n\t...HEADERS,\r\n};\r\n\r\nexport async function Auth(): Promise<StatusCode> {\r\n\treturn fetch(`${AUTH_URL}`, { ...GET_METHOD, credentials: \"include\" }).then(\r\n\t\t(response) => response.status\r\n\t);\r\n}\r\n\r\nexport async function SignUp(\r\n\tusername: string,\r\n\tpassword: string\r\n): Promise<StatusCode> {\r\n\treturn fetch(`${USER_URL}/sign-up`, {\r\n\t\t...POST_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t\tbody: JSON.stringify({ username, password }),\r\n\t}).then((response) => response.status);\r\n}\r\n\r\nexport async function Login(\r\n\tusername: string,\r\n\tpassword: string\r\n): Promise<StatusCode> {\r\n\treturn fetch(`${USER_URL}/login`, {\r\n\t\t...POST_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t\tbody: JSON.stringify({ username, password }),\r\n\t}).then((response) => response.status);\r\n}\r\n\r\nexport async function Logout(): Promise<StatusCode> {\r\n\treturn fetch(`${USER_URL}/logout`, {\r\n\t\t...DELETE_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t}).then((response) => response.status);\r\n}\r\n\r\nexport async function AddCategory(\r\n\tname: string,\r\n\ticon: string\r\n): Promise<[CategoryExpense, StatusCode]> {\r\n\treturn fetch(`${CATEGORIES_URL}`, {\r\n\t\t...POST_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t\tbody: JSON.stringify({ name, icon }),\r\n\t}).then(async (response) => {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\t...(await response.json()),\r\n\t\t\t\tname,\r\n\t\t\t\ticon,\r\n\t\t\t\ttransactions: 0,\r\n\t\t\t\tamount: 0,\r\n\t\t\t\tprecent: 0,\r\n\t\t\t\tcolor: \"#000000\",\r\n\t\t\t},\r\n\t\t\tresponse.status,\r\n\t\t];\r\n\t});\r\n}\r\n\r\nexport async function AddTransaction(\r\n\tcategoryId: string,\r\n\tdescription: string,\r\n\tamount: number\r\n): Promise<[String, StatusCode]> {\r\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions`, {\r\n\t\t...POST_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t\tbody: JSON.stringify({ amount, description }),\r\n\t}).then(async (response) => [(await response.json()).id, response.status]);\r\n}\r\n\r\nexport async function EditCategory(\r\n\tid: string,\r\n\tname: string,\r\n\ticon: string\r\n): Promise<StatusCode> {\r\n\treturn fetch(`${CATEGORY_URL}/${id}`, {\r\n\t\t...PATCH_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t\tbody: JSON.stringify({ name, icon }),\r\n\t}).then((response) => response.status);\r\n}\r\n\r\nexport async function DeleteCategory(id: string): Promise<StatusCode> {\r\n\treturn fetch(`${CATEGORIES_URL}/${id}`, {\r\n\t\t...DELETE_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t}).then((response) => response.status);\r\n}\r\n\r\nexport async function DeleteTransaction(\r\n\tcategoryId: string,\r\n\ttransactionId: string\r\n): Promise<StatusCode> {\r\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions/${transactionId}`, {\r\n\t\t...DELETE_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t}).then((response) => response.status);\r\n}\r\n\r\nexport async function GetCategories(): Promise<\r\n\t[RawCategoryExpense[], StatusCode]\r\n> {\r\n\treturn fetch(`${CATEGORIES_URL}`, {\r\n\t\t...GET_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t}).then(async (response) => [\r\n\t\tcamelcaseKeys(await response.json(), {\r\n\t\t\tdeep: true,\r\n\t\t}) as RawCategoryExpense[],\r\n\t\tresponse.status,\r\n\t]);\r\n}\r\n\r\nexport async function GetCategoryFromId(\r\n\tid: string\r\n): Promise<[RawCategoryExpense, StatusCode]> {\r\n\treturn fetch(`${CATEGORIES_URL}/${id}`, {\r\n\t\t...GET_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t}).then(async (response) => [\r\n\t\tcamelcaseKeys(await response.json(), {\r\n\t\t\tdeep: true,\r\n\t\t}) as RawCategoryExpense,\r\n\t\tresponse.status,\r\n\t]);\r\n}\r\n\r\nexport async function GetTransactions(\r\n\tcategoryId: string\r\n): Promise<[Transactions[], StatusCode]> {\r\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions`, {\r\n\t\t...GET_METHOD,\r\n\t\tcredentials: \"include\",\r\n\t}).then(async (response) => [\r\n\t\t(\r\n\t\t\tcamelcaseKeys(await response.json(), {\r\n\t\t\t\tdeep: true,\r\n\t\t\t}) as Transactions[]\r\n\t\t).map((transaction) => ({\r\n\t\t\t...transaction,\r\n\t\t\tcreatedAt: new Date(transaction.createdAt),\r\n\t\t})),\r\n\t\tresponse.status,\r\n\t]);\r\n}\r\n","const OK = 200;\r\nconst CREATED = 201;\r\n\r\nconst BAD_REQUEST = 400;\r\nconst UNAUTHORIZED = 401;\r\nconst CONFLICT = 409;\r\n\r\nconst INTERNAL_SERVER_ERROR = 500;\r\n\r\nexport const StatusCode = {\r\n\tOK,\r\n\tCREATED,\r\n\tBAD_REQUEST,\r\n\tUNAUTHORIZED,\r\n\tCONFLICT,\r\n\tINTERNAL_SERVER_ERROR,\r\n};\r\n","export function pad02f(num: number): string {\r\n\treturn num.toLocaleString(\"en-US\", { minimumFractionDigits: 2 });\r\n}\r\n"],"names":["CategoryIdContext","createContext","TransactionsContext","SetTransactionsContext","undefined","_ref","id","transactionId","isModalOpen","setIsModalOpen","useState","categoryId","useContext","setTransactions","Error","useTransactionsContext","closeModal","setTimeout","_jsxs","_Fragment","children","_jsx","className","onSubmit","async","event","preventDefault","DeleteTransaction","prev","filter","item","error","console","onClick","type","FaTrash","LOCALE","DAY","day","WEEKDAY","weekday","TIME","hour12","hour","minute","transactions","sort","a","b","dateA","Date","createdAt","getTime","map","index","toLocaleDateString","toLocaleTimeString","description","pad02f","amount","DeleteButton","length","setCategoryId","sumAmount","setSumAmount","title","setTitle","searchParams","useSearchParams","useEffect","get","categoryExpense","statusCode","GetCategoryFromId","StatusCode","OK","name","UNAUTHORIZED","window","location","replace","concat","GetTransactions","reduce","acc","thisMonth","toLocaleString","month","year","href","FaArrowLeft","Provider","value","Transactions","USER_URL","AUTH_URL","TRAKCER_URL","CATEGORY_URL","CATEGORIES_URL","HEADERS","headers","POST_METHOD","method","GET_METHOD","DELETE_METHOD","PATCH_METHOD","Auth","fetch","credentials","then","response","status","SignUp","username","password","body","JSON","stringify","Login","Logout","AddCategory","icon","json","precent","color","AddTransaction","EditCategory","DeleteCategory","GetCategories","camelcaseKeys","deep","transaction","CREATED","BAD_REQUEST","CONFLICT","INTERNAL_SERVER_ERROR","num","minimumFractionDigits"],"sourceRoot":""}