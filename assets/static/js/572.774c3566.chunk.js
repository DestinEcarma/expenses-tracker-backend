"use strict";(self.webpackChunkexpenses_tracker=self.webpackChunkexpenses_tracker||[]).push([[572],{333:(t,e,n)=>{n.d(e,{A:()=>c});var r=n(43),s=n(825),a=n(579);const c=function(t){const[e,n]=(0,r.useState)(!1);return[e?"text":"password",(0,a.jsx)("button",{type:"button",className:t,onClick:()=>n((t=>!t)),children:e?(0,a.jsx)(s.cqH,{}):(0,a.jsx)(s.zgv,{})})]}},572:(t,e,n)=>{n.r(e),n.d(e,{default:()=>R});var r=n(43),s=n(865),a=n(861),c=n(462),o=n(394),u=n(216),i=n(720),l=n(333),d=n(579);const R=function(){const[{username:t,password:e},n]=(0,r.useState)({username:"",password:""}),R=(0,r.useRef)(null),h=(0,r.useRef)(null),E=(0,u.Zp)();(0,r.useEffect)((()=>{(0,s.Nj)().then((t=>{switch(t){case a.s.OK:return E("/tracker");case a.s.UNAUTHORIZED:return;default:throw new Error("Recieved an unexpected status code :: ".concat(t,"."))}})).catch(alert)}),[E]);const[f,x]=(0,l.A)("text-2xl text-gray-400 text-2xl text-gray-400"),p=t=>{const{name:e,value:r}=t.target;var s,a;"username"===e?null===(s=R.current)||void 0===s||s.setCustomValidity(""):null===(a=h.current)||void 0===a||a.setCustomValidity("");n((t=>({...t,[e]:r})))};return(0,d.jsxs)("form",{onSubmit:n=>{n.preventDefault(),(0,s.az)(t,e).then((t=>{var e,n,r,s;switch(t){case a.s.CREATED:return E("/tracker");case a.s.BAD_REQUEST:return null===(e=R.current)||void 0===e||e.setCustomValidity("Invalid username or password."),null===(n=h.current)||void 0===n||n.setCustomValidity("Invalid username or password."),null===(r=R.current)||void 0===r||r.reportValidity(),void(null===(s=h.current)||void 0===s||s.reportValidity());default:throw new Error("Recieved an unexpected status code :: ".concat(t,"."))}})).catch(alert)},className:"h-full max-w-[720px] mx-auto px-4 py-20 flex flex-col",children:[(0,d.jsx)("h1",{className:"flex justify-center text-9xl mb-8 text-blue-600 drop-shadow-md",children:(0,d.jsx)(c.EcI,{})}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 mb-auto",children:[(0,d.jsxs)("div",{className:"flex bg-gray-200 p-3 px-5 gap-3 rounded-full shadow-md",children:[(0,d.jsx)(o.sLb,{className:"text-2xl text-gray-400"}),(0,d.jsx)("input",{id:"username",name:"username",value:t,onChange:p,ref:R,placeholder:"Username",type:"text",className:"bg-transparent w-full outline-none placeholder:text-gray-400"})]}),(0,d.jsxs)("div",{className:"flex bg-gray-200 p-3 px-5 gap-3 rounded-full shadow-md",children:[(0,d.jsx)(i.nMq,{className:"text-2xl text-center text-gray-400"}),(0,d.jsx)("input",{id:"password",name:"password",value:e,onChange:p,ref:h,placeholder:"Password",type:f,className:"bg-transparent w-full outline-none placeholder:text-gray-400"}),x]}),(0,d.jsx)("div",{className:"p-3 px-5 text-center",children:(0,d.jsx)("a",{href:"..",className:"text-gray-400",children:"forgot password?"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,d.jsx)("button",{type:"submit",className:" text-white font-bold tracking-wider py-3 w-1/2 rounded-full shadow-md bg-blue-500 hover:bg-blue-600 transition-colors",children:"Login"}),(0,d.jsx)("a",{href:"/sign-up",className:"bg-transparent text-blue-500 font-bold tracking-wider text-center py-3 w-1/2 rounded-full hover:text-blue-600 transition-colors",children:"Sign Up"})]})]})}},865:(t,e,n)=>{n.d(e,{AK:()=>T,Ee:()=>A,Hx:()=>w,Kq:()=>v,Nj:()=>p,_G:()=>b,az:()=>m,bz:()=>_,dT:()=>N,fQ:()=>y,w2:()=>g});var r=n(923),s=n(861);const a="".concat("https://expenses-tracker.shuttleapp.rs/api","/user"),c="".concat(a,"/auth"),o="".concat(c,"/tracker"),u="".concat(o,"/category"),i="".concat(o,"/categories"),l={deep:!0},d={headers:{"Content-Type":"application/json"},credentials:"include"},R={...d,method:"POST"},h={...d,method:"GET"},E={...d,method:"DELETE"},f={...d,method:"PATCH"},x="The server encountered an error. Please try again later.";async function p(){return fetch("".concat(c),h).then((t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return t.status}))}async function w(t,e){return fetch("".concat(a,"/sign-up"),{...R,body:JSON.stringify({username:t,password:e})}).then((t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return t.status}))}async function m(t,e){return fetch("".concat(a,"/login"),{...R,body:JSON.stringify({username:t,password:e})}).then((t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return t.status}))}async function y(){return fetch("".concat(a,"/logout"),E).then((t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return t.status}))}async function N(){return fetch("".concat(i),h).then((async t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return[(0,r.A)(await t.json(),l),t.status]}))}async function g(t){return fetch("".concat(u,"/").concat(t,"/transactions"),h).then((async t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);const e=(0,r.A)(await t.json(),l);return e.transactions=e.transactions.map((t=>({...t,createdAt:new Date(t.createdAt)}))),[e,t.status]}))}async function b(t,e){return fetch("".concat(i),{...R,body:JSON.stringify({name:t,icon:e})}).then((async n=>{if(n.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return[{...await n.json(),name:t,icon:e,transactions:0,amount:0,precent:0,color:"#000000"},n.status]}))}async function v(t,e,n){return fetch("".concat(u,"/").concat(t,"/transactions"),{...R,body:JSON.stringify({amount:n,description:e})}).then((async t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return t.status}))}async function _(t,e,n){return fetch("".concat(u,"/").concat(t),{...f,body:JSON.stringify({name:e,icon:n})}).then((t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return t.status}))}async function A(t){return fetch("".concat(i,"/").concat(t),E).then((t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return t.status}))}async function T(t,e){return fetch("".concat(u,"/").concat(t,"/transactions/").concat(e),E).then((t=>{if(t.status===s.s.INTERNAL_SERVER_ERROR)throw new Error(x);return t.status}))}},861:(t,e,n)=>{n.d(e,{s:()=>r});const r={OK:200,CREATED:201,CONFLICT:409,BAD_REQUEST:400,UNAUTHORIZED:401,INTERNAL_SERVER_ERROR:500}}}]);
//# sourceMappingURL=572.774c3566.chunk.js.map