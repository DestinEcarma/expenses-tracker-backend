{"version":3,"file":"static/js/167.b5ea5633.chunk.js","mappings":"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","sources":["pages/tracker/transactions/utilities/transactions-context.ts","pages/tracker/transactions/components/delete-button.tsx","pages/tracker/transactions/components/transactions.tsx","pages/tracker/transactions/index.tsx","utilities/api.ts","utilities/status-code.ts","utilities/stringUtil.ts"],"sourcesContent":["import { Dispatch, SetStateAction, createContext, useContext } from \"react\";\nimport { Transaction } from \"./types\";\n\nexport const CategoryIdContext = createContext<string>(\"\");\nexport const TransactionsContext = createContext<Transaction[]>([]);\nexport const SetTransactionsContext = createContext<Dispatch<SetStateAction<Transaction[]>> | undefined>(undefined);\n\nexport function useTransactionsContext() {\n\tconst setTransactions = useContext(SetTransactionsContext);\n\n\tif (setTransactions === undefined) {\n\t\tthrow new Error(\"useTransactionsContext must be used within a SetTransactionsContext\");\n\t}\n\n\treturn setTransactions;\n}\n","import { FormEvent, useContext, useState } from \"react\";\nimport { FaTrash } from \"react-icons/fa6\";\nimport { DeleteTransaction } from \"utilities/api\";\nimport { CategoryIdContext, useTransactionsContext } from \"../utilities/transactions-context\";\nimport { StatusCode } from \"utilities/status-code\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface DeleteButtonProps {\n\tid: string;\n}\n\ninterface ModalProps extends DeleteButtonProps {\n\tcloseModal: () => void;\n\tisModalOpen: number;\n}\n\nfunction Modal({ closeModal, id, isModalOpen }: ModalProps) {\n\tconst [disabled, setDisabled] = useState(false);\n\n\tconst setTransactions = useTransactionsContext();\n\tconst categoryId = useContext(CategoryIdContext);\n\tconst navigate = useNavigate();\n\n\tconst onSubmit = (event: FormEvent<HTMLFormElement>) => {\n\t\tevent.preventDefault();\n\t\tsetDisabled(true);\n\n\t\tDeleteTransaction(categoryId, id)\n\t\t\t.then((statusCode) => {\n\t\t\t\tswitch (statusCode) {\n\t\t\t\t\tcase StatusCode.OK:\n\t\t\t\t\t\tsetTransactions((prev) => prev.filter((item) => item.id !== id));\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase StatusCode.UNAUTHORIZED:\n\t\t\t\t\t\treturn navigate(\"/login\");\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(`Recieved an unexpected status code :: ${statusCode}.`);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(alert)\n\t\t\t.finally(closeModal);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-open={isModalOpen}\n\t\t\tclassName=\"z-50 fixed top-0 left-0 flex justify-center items-center w-full h-dvh bg-gray-500/30 backdrop-blur-sm data-[open='-1']:animate-fade-out data-[open='1']:animate-fade-in\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={onSubmit}\n\t\t\t\tdata-open={isModalOpen}\n\t\t\t\tclassName=\"absolute w-max data-[open='-1']:animate-fade-out data-[open='1']:animate-fade-in\"\n\t\t\t>\n\t\t\t\t<div className=\"left-0 flex flex-col gap-4 w-max bg-white p-4 rounded-md drop-shadow-md\">\n\t\t\t\t\t<h1 className=\"text-center text-black text-xl font-bold\">Are you sure</h1>\n\t\t\t\t\t<p className=\"text-gray-400\">This action cannot be undone.</p>\n\t\t\t\t\t<div className=\"flex-grow flex justify-between font-bold text-white\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"w-1/4 py-2 bg-blue-500 hover:bg-blue-600 rounded-md transition-colors shadow-md disabled:bg-gray-400\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tclassName=\"w-1/4 py-2 bg-red-500 hover:bg-red-600 rounded-md transition-colors shadow-md disabled:bg-gray-400\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nfunction DeleteButton({ id }: DeleteButtonProps) {\n\tconst [isModalOpen, setIsModalOpen] = useState(0);\n\n\tconst closeModal = () => {\n\t\tsetTimeout(() => setIsModalOpen(0), 200);\n\t\tsetIsModalOpen(-1);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{isModalOpen !== 0 && <Modal closeModal={closeModal} id={id} isModalOpen={isModalOpen} />}\n\t\t\t<button\n\t\t\t\tonClick={() =>\n\t\t\t\t\tsetIsModalOpen((prev) => {\n\t\t\t\t\t\tif (prev === 0) return 1;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tsetTimeout(() => setIsModalOpen(0), 200);\n\t\t\t\t\t\t\treturn prev * -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tclassName=\"p-2 text-white bg-red-500 hover:bg-red-600 rounded-full shadow-md transition-colors\"\n\t\t\t>\n\t\t\t\t<FaTrash />\n\t\t\t</button>\n\t\t</>\n\t);\n}\n\nexport default DeleteButton;\n","import { TransactionsContext } from \"../utilities/transactions-context\";\nimport { pad02f } from \"utilities/stringUtil\";\nimport { useContext } from \"react\";\nimport { Transaction as TransactionType } from \"../utilities/types\";\n\nimport DeleteButton from \"./delete-button\";\n\nconst LOCALE = \"default\";\nconst DAY: { day: \"numeric\" } = { day: \"numeric\" };\nconst WEEKDAY: { weekday: \"short\" } = { weekday: \"short\" };\nconst TIME: { hour12: true; hour: \"2-digit\"; minute: \"2-digit\" } = {\n\thour12: true,\n\thour: \"2-digit\",\n\tminute: \"2-digit\",\n};\n\ninterface TransactionProps extends TransactionType {\n\tshowLine: boolean;\n}\n\nfunction Transaction({ id, description, amount, createdAt, showLine }: TransactionProps) {\n\treturn (\n\t\t<div className=\"flex gap-4 px-4 last:mb-4\">\n\t\t\t<div className=\"flex flex-col justify-center items-center aspect-square h-20 text-gray-300 font-bold rounded-full border-8 border-gray-300 drop-shadow-md hover:text-gray-400 transition-colors\">\n\t\t\t\t<h1 className=\"text-xl leading-[0.8]\">{createdAt.toLocaleDateString(LOCALE, WEEKDAY)}</h1>\n\t\t\t\t<h2 className=\"text-4xl leading-[0.8]\">{createdAt.toLocaleDateString(LOCALE, DAY)}</h2>\n\t\t\t</div>\n\t\t\t<div className=\"relative flex-grow flex justify-between gap-4\">\n\t\t\t\t<div className=\"flex-grow flex flex-col justify-center\">\n\t\t\t\t\t<span className=\"font-bold\">{createdAt.toLocaleTimeString(LOCALE, TIME)}</span>\n\t\t\t\t\t<span className=\"text-gray-400\">{description}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex-grow flex flex-col items-end justify-center\">\n\t\t\t\t\t<span className=\"text-right text-red-500 font-bold\">&#8369;{pad02f(amount)}</span>\n\t\t\t\t\t<DeleteButton id={id} />\n\t\t\t\t</div>\n\t\t\t\t{showLine && <hr className=\"absolute -bottom-2 border-1 border-gray-500 w-full\" />}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction Transactions() {\n\tconst transactions = useContext(TransactionsContext);\n\n\treturn (\n\t\t<div className=\"flex flex-col gap-4 h-full overflow-y-auto no-scrollbar\">\n\t\t\t{transactions\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\tconst dateA = new Date(a.createdAt);\n\t\t\t\t\tconst dateB = new Date(b.createdAt);\n\t\t\t\t\treturn dateB.getTime() - dateA.getTime();\n\t\t\t\t})\n\t\t\t\t.map((transaction, index) => (\n\t\t\t\t\t<Transaction key={transaction.id} {...transaction} showLine={index !== transactions.length - 1} />\n\t\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default Transactions;\n","import { TransactionsContext, SetTransactionsContext, CategoryIdContext } from \"./utilities/transactions-context\";\nimport { Transaction as TransactionsType } from \"./utilities/types\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { StatusCode } from \"utilities/status-code\";\nimport { GetTransactions } from \"utilities/api\";\nimport { pad02f } from \"utilities/stringUtil\";\nimport { FaArrowLeft } from \"react-icons/fa6\";\nimport { useEffect, useState } from \"react\";\n\nimport Transactions from \"./components/transactions\";\n\nconst LOCALE = \"default\";\n\nfunction CategoryItems() {\n\tconst [transactions, setTransactions] = useState<TransactionsType[]>([]);\n\tconst [categoryId, setCategoryId] = useState(\"\");\n\tconst [sumAmount, setSumAmount] = useState(0);\n\tconst [title, setTitle] = useState(\"none\");\n\tconst [searchParams] = useSearchParams();\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tconst id = searchParams.get(\"id\");\n\n\t\tconsole.log(id);\n\n\t\tif (id) {\n\t\t\tsetCategoryId(id);\n\t\t} else {\n\t\t\tnavigate(\"/tracker\");\n\t\t}\n\t}, [searchParams, navigate]);\n\n\tuseEffect(() => {\n\t\tif (!categoryId) return;\n\n\t\tGetTransactions(categoryId)\n\t\t\t.then(([{ category, transactions }, statusCode]) => {\n\t\t\t\tswitch (statusCode) {\n\t\t\t\t\tcase StatusCode.OK:\n\t\t\t\t\t\tsetTitle(category.name);\n\t\t\t\t\t\tsetTransactions(transactions);\n\t\t\t\t\t\tsetSumAmount(transactions.reduce((acc, item) => acc + item.amount, 0));\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase StatusCode.UNAUTHORIZED:\n\t\t\t\t\t\treturn navigate(\"/login\");\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(`Recieved an unexpected status code :: ${statusCode}.`);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(alert);\n\t}, [categoryId, navigate]);\n\n\tuseEffect(() => {\n\t\tsetSumAmount(transactions.reduce((acc, item) => acc + item.amount, 0));\n\t}, [transactions]);\n\n\tconst thisMonth = new Date().toLocaleString(LOCALE, {\n\t\tmonth: \"short\",\n\t\tyear: \"numeric\",\n\t});\n\n\treturn (\n\t\t<div className=\"flex flex-col h-full max-h-full max-w-[720px] mx-auto\">\n\t\t\t<div className=\"relative mb-4 py-4\">\n\t\t\t\t<a href=\"/tracker\" className=\"absolute top-1/2 -translate-y-1/2 ml-4 text-3xl\">\n\t\t\t\t\t<FaArrowLeft />\n\t\t\t\t</a>\n\t\t\t\t<h1 className=\"font-bold text-center uppercase\">{title}</h1>\n\t\t\t</div>\n\t\t\t<div className=\"flex flex-col gap-10 flex-grow overflow-auto\">\n\t\t\t\t<div className=\"flex flex-col mx-auto w-min\">\n\t\t\t\t\t<span className=\"leading-none tracking-tight font-bold text-gray-400 w-max\">{thisMonth}</span>\n\t\t\t\t\t<span className=\"mb-4 font-extrabold text-4xl w-min\">&#8369;{pad02f(sumAmount)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex-grow overflow-hidden pb-4 h-full\">\n\t\t\t\t\t<CategoryIdContext.Provider value={categoryId}>\n\t\t\t\t\t\t<SetTransactionsContext.Provider value={setTransactions}>\n\t\t\t\t\t\t\t<TransactionsContext.Provider value={transactions}>\n\t\t\t\t\t\t\t\t<Transactions />\n\t\t\t\t\t\t\t</TransactionsContext.Provider>\n\t\t\t\t\t\t</SetTransactionsContext.Provider>\n\t\t\t\t\t</CategoryIdContext.Provider>\n\t\t\t\t\t<hr className=\"flex-grow mx-4 border-1 border-gray-500\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default CategoryItems;\n","import { Category } from \"pages/tracker/utilities/types\";\r\nimport { GetTransactionsData } from \"pages/tracker/transactions/utilities/types\";\r\n\r\nimport camelcaseKeys from \"camelcase-keys\";\r\nimport { StatusCode as StatusCodes } from \"./status-code\";\r\n\r\nexport type StatusCode = number;\r\n\r\nconst API_URL =\r\n\t!process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n\t\t? \"http://127.0.0.1:8000/api\"\r\n\t\t: \"https://expenses-tracker.shuttleapp.rs/api\";\r\nconst USER_URL = `${API_URL}/user`;\r\nconst AUTH_URL = `${USER_URL}/auth`;\r\nconst TRAKCER_URL = `${AUTH_URL}/tracker`;\r\nconst CATEGORY_URL = `${TRAKCER_URL}/category`;\r\nconst CATEGORIES_URL = `${TRAKCER_URL}/categories`;\r\n\r\nconst CAMELCASEKEYS_OPTIONS = { deep: true };\r\n\r\nconst MAIN_REQUEST: RequestInit = {\r\n\theaders: {\r\n\t\t\"Content-Type\": \"application/json\",\r\n\t},\r\n\tcredentials: \"include\",\r\n};\r\n\r\nconst POST_METHOD: RequestInit = {\r\n\t...MAIN_REQUEST,\r\n\tmethod: \"POST\",\r\n};\r\n\r\nconst GET_METHOD: RequestInit = {\r\n\t...MAIN_REQUEST,\r\n\tmethod: \"GET\",\r\n};\r\n\r\nconst DELETE_METHOD: RequestInit = {\r\n\t...MAIN_REQUEST,\r\n\tmethod: \"DELETE\",\r\n};\r\n\r\nconst PATCH_METHOD: RequestInit = {\r\n\t...MAIN_REQUEST,\r\n\tmethod: \"PATCH\",\r\n};\r\n\r\nconst ERROR_MESSAGE = \"The server encountered an error. Please try again later.\";\r\n\r\nexport async function Auth(): Promise<StatusCode> {\r\n\treturn fetch(`${AUTH_URL}`, GET_METHOD).then((response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn response.status;\r\n\t});\r\n}\r\n\r\nexport async function SignUp(username: string, password: string): Promise<StatusCode> {\r\n\treturn fetch(`${USER_URL}/sign-up`, {\r\n\t\t...POST_METHOD,\r\n\t\tbody: JSON.stringify({ username, password }),\r\n\t}).then((response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn response.status;\r\n\t});\r\n}\r\n\r\nexport async function Login(username: string, password: string): Promise<StatusCode> {\r\n\treturn fetch(`${USER_URL}/login`, {\r\n\t\t...POST_METHOD,\r\n\t\tbody: JSON.stringify({ username, password }),\r\n\t}).then((response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn response.status;\r\n\t});\r\n}\r\n\r\nexport async function Logout(): Promise<StatusCode> {\r\n\treturn fetch(`${USER_URL}/logout`, DELETE_METHOD).then((response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn response.status;\r\n\t});\r\n}\r\n\r\nexport async function GetCategories(): Promise<[Category[], StatusCode]> {\r\n\treturn fetch(`${CATEGORIES_URL}`, GET_METHOD).then(async (response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn [camelcaseKeys(await response.json(), CAMELCASEKEYS_OPTIONS) as Category[], response.status];\r\n\t});\r\n}\r\n\r\nexport async function GetTransactions(categoryId: string): Promise<[GetTransactionsData, StatusCode]> {\r\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions`, GET_METHOD).then(async (response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\tconst data = camelcaseKeys(await response.json(), CAMELCASEKEYS_OPTIONS) as GetTransactionsData;\r\n\r\n\t\tdata.transactions = data.transactions.map((transaction) => ({\r\n\t\t\t...transaction,\r\n\t\t\tcreatedAt: new Date(transaction.createdAt),\r\n\t\t}));\r\n\r\n\t\treturn [data, response.status];\r\n\t});\r\n}\r\n\r\nexport async function AddCategory(name: string, icon: string): Promise<[Category, StatusCode]> {\r\n\treturn fetch(`${CATEGORIES_URL}`, {\r\n\t\t...POST_METHOD,\r\n\t\tbody: JSON.stringify({ name, icon }),\r\n\t}).then(async (response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\t...(await response.json()),\r\n\t\t\t\tname,\r\n\t\t\t\ticon,\r\n\t\t\t\ttransactions: 0,\r\n\t\t\t\tamount: 0,\r\n\t\t\t\tprecent: 0,\r\n\t\t\t\tcolor: \"#000000\",\r\n\t\t\t},\r\n\t\t\tresponse.status,\r\n\t\t];\r\n\t});\r\n}\r\n\r\nexport async function AddTransaction(categoryId: string, description: string, amount: number): Promise<StatusCode> {\r\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions`, {\r\n\t\t...POST_METHOD,\r\n\t\tbody: JSON.stringify({ amount, description }),\r\n\t}).then(async (response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn response.status;\r\n\t});\r\n}\r\n\r\nexport async function EditCategory(id: string, name: string, icon: string): Promise<StatusCode> {\r\n\treturn fetch(`${CATEGORIES_URL}/${id}`, {\r\n\t\t...PATCH_METHOD,\r\n\t\tbody: JSON.stringify({ name, icon }),\r\n\t}).then((response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn response.status;\r\n\t});\r\n}\r\n\r\nexport async function DeleteCategory(id: string): Promise<StatusCode> {\r\n\treturn fetch(`${CATEGORIES_URL}/${id}`, DELETE_METHOD).then((response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn response.status;\r\n\t});\r\n}\r\n\r\nexport async function DeleteTransaction(categoryId: string, transactionId: string): Promise<StatusCode> {\r\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions/${transactionId}`, DELETE_METHOD).then((response) => {\r\n\t\tif (response.status === StatusCodes.INTERNAL_SERVER_ERROR) {\r\n\t\t\tthrow new Error(ERROR_MESSAGE);\r\n\t\t}\r\n\r\n\t\treturn response.status;\r\n\t});\r\n}\r\n","const OK = 200;\nconst CREATED = 201;\n\nconst BAD_REQUEST = 400;\nconst UNAUTHORIZED = 401;\nconst CONFLICT = 409;\n\nconst INTERNAL_SERVER_ERROR = 500;\n\nexport const StatusCode = {\n\tOK,\n\tCREATED,\n\tCONFLICT,\n\tBAD_REQUEST,\n\tUNAUTHORIZED,\n\tINTERNAL_SERVER_ERROR,\n};\n","export function pad02f(num: number): string {\n\treturn num.toLocaleString(\"en-US\", { minimumFractionDigits: 2 });\n}\n"],"names":["CategoryIdContext","createContext","TransactionsContext","SetTransactionsContext","undefined","Modal","_ref","closeModal","id","isModalOpen","disabled","setDisabled","useState","setTransactions","useContext","Error","useTransactionsContext","categoryId","navigate","useNavigate","_jsx","className","children","onSubmit","event","preventDefault","DeleteTransaction","then","statusCode","StatusCode","OK","prev","filter","item","UNAUTHORIZED","concat","catch","alert","finally","_jsxs","onClick","type","_ref2","setIsModalOpen","_Fragment","setTimeout","FaTrash","LOCALE","DAY","day","WEEKDAY","weekday","TIME","hour12","hour","minute","Transaction","description","amount","createdAt","showLine","toLocaleDateString","toLocaleTimeString","pad02f","DeleteButton","transactions","sort","a","b","dateA","Date","getTime","map","transaction","index","length","setCategoryId","sumAmount","setSumAmount","title","setTitle","searchParams","useSearchParams","useEffect","get","console","log","GetTransactions","category","name","reduce","acc","thisMonth","toLocaleString","month","year","href","FaArrowLeft","Provider","value","Transactions","USER_URL","AUTH_URL","TRAKCER_URL","CATEGORY_URL","CATEGORIES_URL","CAMELCASEKEYS_OPTIONS","deep","MAIN_REQUEST","headers","credentials","POST_METHOD","method","GET_METHOD","DELETE_METHOD","PATCH_METHOD","ERROR_MESSAGE","async","Auth","fetch","response","status","StatusCodes","INTERNAL_SERVER_ERROR","SignUp","username","password","body","JSON","stringify","Login","Logout","GetCategories","camelcaseKeys","json","data","AddCategory","icon","precent","color","AddTransaction","EditCategory","DeleteCategory","transactionId","CREATED","CONFLICT","BAD_REQUEST","num","minimumFractionDigits"],"sourceRoot":""}