{"version":3,"file":"static/js/251.9eac0a2a.chunk.js","mappings":"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","sources":["pages/tracker/transactions/utilities/item-expenses-context.ts","pages/tracker/transactions/components/delete-button.tsx","pages/tracker/transactions/components/transactions.tsx","pages/tracker/transactions/index.tsx","utilities/api.ts","utilities/status-code.ts","utilities/stringUtil.ts"],"sourcesContent":["import { Dispatch, SetStateAction, createContext, useContext } from \"react\";\nimport { Transactions } from \"./types\";\n\nexport const CategoryIdContext = createContext<string>(\"\");\nexport const TransactionsContext = createContext<Transactions[]>([]);\nexport const SetTransactionsContext = createContext<Dispatch<SetStateAction<Transactions[]>> | undefined>(undefined);\n\nexport function useTransactionsContext() {\n\tconst setTransactions = useContext(SetTransactionsContext);\n\n\tif (setTransactions === undefined) {\n\t\tthrow new Error(\"useTransactionsContext must be used within a SetTransactionsContext\");\n\t}\n\n\treturn setTransactions;\n}\n","import { FormEvent, useContext, useState } from \"react\";\nimport { FaTrash } from \"react-icons/fa6\";\nimport { DeleteTransaction } from \"utilities/api\";\nimport { CategoryIdContext, useTransactionsContext } from \"../utilities/item-expenses-context\";\n\ninterface DeleteButtonProps {\n\tid: string;\n}\n\nfunction DeleteButton({ id: transactionId }: DeleteButtonProps) {\n\tconst [isModalOpen, setIsModalOpen] = useState(0);\n\tconst categoryId = useContext(CategoryIdContext);\n\tconst setTransactions = useTransactionsContext();\n\n\tconst closeModal = () => {\n\t\tsetTimeout(() => setIsModalOpen(0), 200);\n\t\tsetIsModalOpen(-1);\n\t};\n\n\tconst onSubmit = async (event: FormEvent<HTMLFormElement>) => {\n\t\ttry {\n\t\t\tevent.preventDefault();\n\n\t\t\tif ((await DeleteTransaction(categoryId, transactionId)) === 200) {\n\t\t\t\tsetTransactions((prev) => prev.filter((item) => item.id !== transactionId));\n\t\t\t}\n\n\t\t\tcloseModal();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{isModalOpen !== 0 && (\n\t\t\t\t<div\n\t\t\t\t\tdata-open={isModalOpen}\n\t\t\t\t\tclassName=\"z-50 fixed top-0 left-0 flex justify-center items-center w-full h-dvh bg-gray-500/30 backdrop-blur-sm data-[open='-1']:animate-fade-out data-[open='1']:animate-fade-in\"\n\t\t\t\t>\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t\t\tdata-open={isModalOpen}\n\t\t\t\t\t\tclassName=\"absolute w-max data-[open='-1']:animate-fade-out data-[open='1']:animate-fade-in\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"left-0 flex flex-col gap-4 w-max bg-white p-4 rounded-md drop-shadow-md\">\n\t\t\t\t\t\t\t<h1 className=\"text-center text-black text-xl font-bold\">Are you sure</h1>\n\t\t\t\t\t\t\t<p className=\"text-gray-400\">This action cannot be undone.</p>\n\t\t\t\t\t\t\t<div className=\"flex-grow flex justify-between font-bold text-white\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"w-1/4 py-2 bg-blue-500 hover:bg-blue-600 rounded-md transition-colors shadow-md\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclassName=\"w-1/4 py-2 bg-red-500 hover:bg-red-600 rounded-md transition-colors shadow-md\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<button\n\t\t\t\tonClick={() =>\n\t\t\t\t\tsetIsModalOpen((prev) => {\n\t\t\t\t\t\tif (prev === 0) return 1;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tsetTimeout(() => setIsModalOpen(0), 200);\n\t\t\t\t\t\t\treturn prev * -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tclassName=\"p-2 text-white bg-red-500 hover:bg-red-600 rounded-full shadow-md transition-colors\"\n\t\t\t>\n\t\t\t\t<FaTrash />\n\t\t\t</button>\n\t\t</>\n\t);\n}\n\nexport default DeleteButton;\n","import { TransactionsContext } from \"../utilities/item-expenses-context\";\nimport { pad02f } from \"utilities/stringUtil\";\nimport { useContext } from \"react\";\n\nimport DeleteButton from \"./delete-button\";\n\nconst LOCALE = \"default\";\nconst DAY: { day: \"numeric\" } = { day: \"numeric\" };\nconst WEEKDAY: { weekday: \"short\" } = { weekday: \"short\" };\nconst TIME: { hour12: true; hour: \"2-digit\"; minute: \"2-digit\" } = {\n\thour12: true,\n\thour: \"2-digit\",\n\tminute: \"2-digit\",\n};\n\nfunction Transactions() {\n\tconst transactions = useContext(TransactionsContext);\n\n\treturn (\n\t\t<div className=\"flex flex-col gap-4 h-full overflow-y-auto no-scrollbar\">\n\t\t\t{transactions\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\tconst dateA = new Date(a.createdAt);\n\t\t\t\t\tconst dateB = new Date(b.createdAt);\n\t\t\t\t\treturn dateB.getTime() - dateA.getTime();\n\t\t\t\t})\n\t\t\t\t.map((item, index) => (\n\t\t\t\t\t<div className=\"flex gap-4 px-4 last:mb-4\">\n\t\t\t\t\t\t<div className=\"flex flex-col justify-center items-center aspect-square h-20 text-gray-300 font-bold rounded-full border-8 border-gray-300 drop-shadow-md hover:text-gray-400 transition-colors\">\n\t\t\t\t\t\t\t<h1 className=\"text-xl leading-[0.8]\">{item.createdAt.toLocaleDateString(LOCALE, WEEKDAY)}</h1>\n\t\t\t\t\t\t\t<h2 className=\"text-4xl leading-[0.8]\">{item.createdAt.toLocaleDateString(LOCALE, DAY)}</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"relative flex-grow flex justify-between gap-4\">\n\t\t\t\t\t\t\t<div className=\"flex-grow flex flex-col justify-center\">\n\t\t\t\t\t\t\t\t<span className=\"font-bold\">{item.createdAt.toLocaleTimeString(LOCALE, TIME)}</span>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// item.description.length > 15\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<span className=\"text-gray-400\">{item.description}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex-grow flex flex-col items-end justify-center\">\n\t\t\t\t\t\t\t\t<span className=\"text-right text-red-500 font-bold\">&#8369;{pad02f(item.amount)}</span>\n\t\t\t\t\t\t\t\t<DeleteButton id={item.id} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{index !== transactions.length - 1 && (\n\t\t\t\t\t\t\t\t<hr className=\"absolute -bottom-2 border-1 border-gray-500 w-full\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default Transactions;\n","import { TransactionsContext, SetTransactionsContext, CategoryIdContext } from \"./utilities/item-expenses-context\";\nimport { Transactions as TransactionsType } from \"./utilities/types\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { StatusCode } from \"utilities/status-code\";\nimport { GetTransactions } from \"utilities/api\";\nimport { pad02f } from \"utilities/stringUtil\";\nimport { FaArrowLeft } from \"react-icons/fa6\";\nimport { useEffect, useState } from \"react\";\n\nimport Transactions from \"./components/transactions\";\n\nconst LOCALE = \"default\";\n\nfunction CategoryItems() {\n\tconst [transactions, setTransactions] = useState<TransactionsType[]>([]);\n\tconst [categoryId, setCategoryId] = useState(\"\");\n\tconst [sumAmount, setSumAmount] = useState(0);\n\tconst [title, setTitle] = useState(\"none\");\n\tconst [searchParams] = useSearchParams();\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tconst id = searchParams.get(\"id\");\n\n\t\tif (id) {\n\t\t\tsetCategoryId(id);\n\t\t} else {\n\t\t\tnavigate(\"/tracker\");\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tGetTransactions(categoryId)\n\t\t\t.then(([{ category, transactions }, statusCode]) => {\n\t\t\t\tswitch (statusCode) {\n\t\t\t\t\tcase StatusCode.OK:\n\t\t\t\t\t\tsetTitle(category.name);\n\t\t\t\t\t\tsetTransactions(transactions);\n\t\t\t\t\t\tsetSumAmount(transactions.reduce((acc, item) => acc + item.amount, 0));\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase StatusCode.UNAUTHORIZED:\n\t\t\t\t\t\treturn navigate(\"/login\");\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(`Recieved an unexpected status code :: ${statusCode}.`);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(alert);\n\t}, [categoryId]);\n\n\tuseEffect(() => {\n\t\tsetSumAmount(transactions.reduce((acc, item) => acc + item.amount, 0));\n\t}, [transactions]);\n\n\tconst thisMonth = new Date().toLocaleString(LOCALE, {\n\t\tmonth: \"short\",\n\t\tyear: \"numeric\",\n\t});\n\n\treturn (\n\t\t<div className=\"flex flex-col h-full max-h-full max-w-[720px] mx-auto\">\n\t\t\t<div className=\"relative mb-4 py-4\">\n\t\t\t\t<a href=\"/tracker\" className=\"absolute top-1/2 -translate-y-1/2 ml-4 text-3xl\">\n\t\t\t\t\t<FaArrowLeft />\n\t\t\t\t</a>\n\t\t\t\t<h1 className=\"font-bold text-center uppercase\">{title}</h1>\n\t\t\t</div>\n\t\t\t<div className=\"flex flex-col gap-10 flex-grow overflow-auto\">\n\t\t\t\t<div className=\"flex flex-col mx-auto w-min\">\n\t\t\t\t\t<span className=\"leading-none tracking-tight font-bold text-gray-400 w-max\">{thisMonth}</span>\n\t\t\t\t\t<span className=\"mb-4 font-extrabold text-4xl w-min\">&#8369;{pad02f(sumAmount)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex-grow overflow-hidden pb-4 h-full\">\n\t\t\t\t\t<CategoryIdContext.Provider value={categoryId}>\n\t\t\t\t\t\t<SetTransactionsContext.Provider value={setTransactions}>\n\t\t\t\t\t\t\t<TransactionsContext.Provider value={transactions}>\n\t\t\t\t\t\t\t\t<Transactions />\n\t\t\t\t\t\t\t</TransactionsContext.Provider>\n\t\t\t\t\t\t</SetTransactionsContext.Provider>\n\t\t\t\t\t</CategoryIdContext.Provider>\n\t\t\t\t\t<hr className=\"flex-grow mx-4 border-1 border-gray-500\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default CategoryItems;\n","import { Category } from \"pages/tracker/utilities/types\";\nimport { GetTransactionsData } from \"pages/tracker/transactions/utilities/types\";\n\nimport camelcaseKeys from \"camelcase-keys\";\nimport { StatusCode } from \"./status-code\";\n\nexport type StatusCode = number;\n\nconst API_URL =\n\t!process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\n\t\t? \"http://127.0.0.1:8000/api\"\n\t\t: \"https://expenses-tracker.shuttleapp.rs/api\";\nconst USER_URL = `${API_URL}/user`;\nconst AUTH_URL = `${USER_URL}/auth`;\nconst TRAKCER_URL = `${AUTH_URL}/tracker`;\nconst CATEGORY_URL = `${TRAKCER_URL}/category`;\nconst CATEGORIES_URL = `${TRAKCER_URL}/categories`;\n\nconst CAMELCASEKEYS_OPTIONS = { deep: true };\n\nconst MAIN_REQUEST: RequestInit = {\n\theaders: {\n\t\t\"Content-Type\": \"application/json\",\n\t},\n\tcredentials: \"include\",\n};\n\nconst POST_METHOD: RequestInit = {\n\t...MAIN_REQUEST,\n\tmethod: \"POST\",\n};\n\nconst GET_METHOD: RequestInit = {\n\t...MAIN_REQUEST,\n\tmethod: \"GET\",\n};\n\nconst DELETE_METHOD: RequestInit = {\n\t...MAIN_REQUEST,\n\tmethod: \"DELETE\",\n};\n\nconst PATCH_METHOD: RequestInit = {\n\t...MAIN_REQUEST,\n\tmethod: \"PATCH\",\n};\n\nconst ERROR_MESSAGE = \"The server encountered an error. Please try again later.\";\n\nexport async function Auth(): Promise<StatusCode> {\n\treturn fetch(`${AUTH_URL}`, GET_METHOD).then((response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn response.status;\n\t});\n}\n\nexport async function SignUp(username: string, password: string): Promise<StatusCode> {\n\treturn fetch(`${USER_URL}/sign-up`, {\n\t\t...POST_METHOD,\n\t\tbody: JSON.stringify({ username, password }),\n\t}).then((response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn response.status;\n\t});\n}\n\nexport async function Login(username: string, password: string): Promise<StatusCode> {\n\treturn fetch(`${USER_URL}/login`, {\n\t\t...POST_METHOD,\n\t\tbody: JSON.stringify({ username, password }),\n\t}).then((response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn response.status;\n\t});\n}\n\nexport async function Logout(): Promise<StatusCode> {\n\treturn fetch(`${USER_URL}/logout`, DELETE_METHOD).then((response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn response.status;\n\t});\n}\n\nexport async function GetCategories(): Promise<[Category[], StatusCode]> {\n\treturn fetch(`${CATEGORIES_URL}`, GET_METHOD).then(async (response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn [camelcaseKeys(await response.json(), CAMELCASEKEYS_OPTIONS) as Category[], response.status];\n\t});\n}\n\nexport async function GetTransactions(categoryId: string): Promise<[GetTransactionsData, StatusCode]> {\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions`, GET_METHOD).then(async (response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\tconst data = camelcaseKeys(await response.json(), CAMELCASEKEYS_OPTIONS) as GetTransactionsData;\n\n\t\tdata.transactions = data.transactions.map((transaction) => ({\n\t\t\t...transaction,\n\t\t\tcreatedAt: new Date(transaction.createdAt),\n\t\t}));\n\n\t\treturn [data, response.status];\n\t});\n}\n\nexport async function AddCategory(name: string, icon: string): Promise<[Category, StatusCode]> {\n\treturn fetch(`${CATEGORIES_URL}`, {\n\t\t...POST_METHOD,\n\t\tbody: JSON.stringify({ name, icon }),\n\t}).then(async (response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn [\n\t\t\t{\n\t\t\t\t...(await response.json()),\n\t\t\t\tname,\n\t\t\t\ticon,\n\t\t\t\ttransactions: 0,\n\t\t\t\tamount: 0,\n\t\t\t\tprecent: 0,\n\t\t\t\tcolor: \"#000000\",\n\t\t\t},\n\t\t\tresponse.status,\n\t\t];\n\t});\n}\n\nexport async function AddTransaction(\n\tcategoryId: string,\n\tdescription: string,\n\tamount: number,\n): Promise<[String, StatusCode]> {\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions`, {\n\t\t...POST_METHOD,\n\t\tbody: JSON.stringify({ amount, description }),\n\t}).then(async (response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn [(await response.json()).id, response.status];\n\t});\n}\n\nexport async function EditCategory(id: string, name: string, icon: string): Promise<StatusCode> {\n\treturn fetch(`${CATEGORY_URL}/${id}`, {\n\t\t...PATCH_METHOD,\n\t\tbody: JSON.stringify({ name, icon }),\n\t}).then((response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn response.status;\n\t});\n}\n\nexport async function DeleteCategory(id: string): Promise<StatusCode> {\n\treturn fetch(`${CATEGORIES_URL}/${id}`, DELETE_METHOD).then((response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn response.status;\n\t});\n}\n\nexport async function DeleteTransaction(categoryId: string, transactionId: string): Promise<StatusCode> {\n\treturn fetch(`${CATEGORY_URL}/${categoryId}/transactions/${transactionId}`, DELETE_METHOD).then((response) => {\n\t\tif (response.status === StatusCode.INTERNAL_SERVER_ERROR) {\n\t\t\tthrow new Error(ERROR_MESSAGE);\n\t\t}\n\n\t\treturn response.status;\n\t});\n}\n","const OK = 200;\nconst CREATED = 201;\n\nconst BAD_REQUEST = 400;\nconst UNAUTHORIZED = 401;\nconst CONFLICT = 409;\n\nconst INTERNAL_SERVER_ERROR = 500;\n\nexport const StatusCode = {\n\tOK,\n\tCREATED,\n\tCONFLICT,\n\tBAD_REQUEST,\n\tUNAUTHORIZED,\n\tINTERNAL_SERVER_ERROR,\n};\n","export function pad02f(num: number): string {\n\treturn num.toLocaleString(\"en-US\", { minimumFractionDigits: 2 });\n}\n"],"names":["CategoryIdContext","createContext","TransactionsContext","SetTransactionsContext","undefined","_ref","id","transactionId","isModalOpen","setIsModalOpen","useState","categoryId","useContext","setTransactions","Error","useTransactionsContext","closeModal","setTimeout","_jsxs","_Fragment","children","_jsx","className","onSubmit","async","event","preventDefault","DeleteTransaction","prev","filter","item","error","console","onClick","type","FaTrash","LOCALE","DAY","day","WEEKDAY","weekday","TIME","hour12","hour","minute","transactions","sort","a","b","dateA","Date","createdAt","getTime","map","index","toLocaleDateString","toLocaleTimeString","description","pad02f","amount","DeleteButton","length","setCategoryId","sumAmount","setSumAmount","title","setTitle","searchParams","useSearchParams","navigate","useNavigate","useEffect","get","GetTransactions","then","category","statusCode","StatusCode","OK","name","reduce","acc","UNAUTHORIZED","concat","catch","alert","thisMonth","toLocaleString","month","year","href","FaArrowLeft","Provider","value","Transactions","USER_URL","AUTH_URL","TRAKCER_URL","CATEGORY_URL","CATEGORIES_URL","CAMELCASEKEYS_OPTIONS","deep","MAIN_REQUEST","headers","credentials","POST_METHOD","method","GET_METHOD","DELETE_METHOD","PATCH_METHOD","ERROR_MESSAGE","Auth","fetch","response","status","INTERNAL_SERVER_ERROR","SignUp","username","password","body","JSON","stringify","Login","Logout","GetCategories","camelcaseKeys","json","data","transaction","AddCategory","icon","precent","color","AddTransaction","EditCategory","DeleteCategory","CREATED","CONFLICT","BAD_REQUEST","num","minimumFractionDigits"],"sourceRoot":""}